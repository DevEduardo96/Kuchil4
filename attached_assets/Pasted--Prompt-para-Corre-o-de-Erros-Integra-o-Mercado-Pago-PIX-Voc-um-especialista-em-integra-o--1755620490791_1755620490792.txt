# Prompt para Corre√ß√£o de Erros - Integra√ß√£o Mercado Pago PIX

Voc√™ √© um especialista em integra√ß√£o com APIs de pagamento, especificamente Mercado Pago. Analise os seguintes erros e forne√ßa uma solu√ß√£o completa e funcional:

## Erros Relatados:
```
Error: üí° Sugest√£o: "Verifique os dados enviados e tente novamente"
Error: üìã Detalhes do erro: "Erro interno do servidor"  
Error: ‚ùå Erro na resposta da API: {}
```

## Contexto:
- Site Next.js rodando em localhost:3000
- Tentativa de gerar QR Code PIX via API do Mercado Pago
- Erros ocorrem na fun√ß√£o `handlePixCheckout`
- Stack trace aponta para problemas nos chunks do Next.js

## C√≥digo Atual para An√°lise:
[COLE AQUI SEU C√ìDIGO ATUAL - fun√ß√£o handlePixCheckout, API route, configura√ß√µes]

## O que preciso que voc√™ fa√ßa:

1. **DIAGN√ìSTICO COMPLETO:**
   - Identifique a causa raiz de cada erro
   - Analise poss√≠veis problemas de configura√ß√£o
   - Verifique estrutura de dados enviados

2. **CORRE√á√ÉO DO C√ìDIGO:**
   - Corrija a fun√ß√£o `handlePixCheckout` no frontend
   - Corrija/crie a API route do backend (/api/mercadopago)
   - Implemente valida√ß√£o robusta de dados
   - Adicione tratamento de erro adequado

3. **IMPLEMENTA√á√ÉO COMPLETA:**
   - C√≥digo frontend (React/Next.js)
   - C√≥digo backend (API route)
   - Configura√ß√£o de credenciais
   - Valida√ß√£o de dados obrigat√≥rios

4. **ESTRUTURA DE DADOS CORRETA:**
   - Payload correto para cria√ß√£o de pagamento PIX
   - Valida√ß√µes necess√°rias
   - Campos obrigat√≥rios do Mercado Pago

5. **DEBUGGING E LOGS:**
   - Sistema de logs detalhado
   - Captura de erros espec√≠ficos
   - Console.log estrat√©gico para debug

6. **CHECKLIST DE VERIFICA√á√ÉO:**
   - Lista de itens para conferir antes de testar
   - Configura√ß√µes essenciais
   - Vari√°veis de ambiente necess√°rias

## Requisitos Espec√≠ficos:
- Next.js 13+ (App Router ou Pages Router - especifique qual uso)
- Integra√ß√£o com Mercado Pago SDK mais recente
- Ambiente de sandbox para testes
- Tratamento de erro user-friendly
- Resposta deve incluir QR Code base64 e PIX copia-e-cola

## Formato da Resposta:
Forne√ßa a solu√ß√£o em blocos de c√≥digo organizados, com:
- ‚úÖ Explica√ß√£o do problema
- üîß C√≥digo corrigido
- üìã Instru√ß√µes de implementa√ß√£o
- üöÄ Como testar

## Vari√°veis que tenho dispon√≠veis:
- MERCADO_PAGO_ACCESS_TOKEN (sandbox)
- MERCADO_PAGO_PUBLIC_KEY (sandbox)
- [ADICIONE OUTRAS VARI√ÅVEIS DISPON√çVEIS]

---

**IMPORTANTE:** Preciso de uma solu√ß√£o que funcione 100% e seja production-ready, com todos os tratamentos de erro necess√°rios.